library(devtools)
library(roxygen)
library(roxygen2)
packrat::set_opts(external.packages = c(""))
load_all()
load_all()
library(OccamsRazor)
library(OccamsRazor)
library("OccamsRazor", lib.loc="~/R/win-library/3.1")
library("dplyr", lib.loc="~/R/win-library/3.1")
library(OccamsRazor)
library("OccamsRazor", lib.loc="~/R/win-library/3.1")
library(OccamsRazor)
library(OccamsRazor)
library(OccamsRazor)
library(OccamsRazor)
library(OccamsRazor)
library("OccamsRazor", lib.loc="~/R/win-library/3.1")
library(OccamsRazor)
?prompt()
?prompt
prompt(OccamsRazor)
prompt("OccamsRazor")
library("OccamsRazor", lib.loc="~/R/win-library/3.1")
library(OccamsRazor)
packrat::set_opts(external.packages = c(""))
?vignettes
R CMD check --help
--help
packrat::set_opts(external.packages = c(""))
install.packages(packrat)
install.packages("packrat")
if (!require("devtools")) install.packages("devtools")
devtools::install_github("rstudio/packrat")
library(OccamsRazor)
packrat::set_opts(external.packages = c(""))
packrat::set_opts(external.packages = c(""))
packrat::set_opts(external.packages = c(""))
library(OccamsRazor)
library(minmodelr)
library(devtools)
library(roxygen2)
library(minmodelr)
packrat::set_opts(external.packages = c(""))
library(devtools)
library(roxygen2)
setwd("C:/Users/Martin/Studium/MSc.Behaviour/Research/Seal Scent/R code/Raw scripts")
setwd("C:/Users/Martin/Studium/MSc.Behaviour/Research/Seal Scent/R code/Raw scripts")
library(minmodelr)
getwd()
read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt")
data <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt")
View(data)
data <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
df <- data
family = gaussian
test = "F"
stopdeleting <- FALSE
dfBase <- df
if (test == "Chisq") {indat <- 5}
if (test == "F") {indat <- 6}
numVars <- ncol(dfBase)
# model1
model1 <- glm(dfBase[, 1] ~., data = subset(dfBase, select = 2:numVars), family = family)
summary(model1)
pvalues <- vector()
for (i in 2:ncol(dfBase)) {
# Remove var
del <- i
dftemp <- dfBase[, -del]
# compute glm
model2 <- glm(dfBase[, 1] ~., data = subset(dftemp, select = 2:(numVars-1)), family = family)
# ANOVA for model comparison
modelCompare <- anova(model1, model2, test = test)
# get p values in vector
pvalues[i-1] <- modelCompare[2, indat]
}
max(pvalues)
remove <- which.max(pvalues) + 1 ## +1 because dependent variable is in column one of df
if (pvalues[remove-1] <= 0.05){
stopdeleting  <- TRUE
bestmodeldf <- dfBase
# stop if just one variable left
} else if ((pvalues[remove-1] > 0.05) & ((numVars-1)==2)){
stopdeleting <- TRUE
bestmodeldf <- subset(dfBase, select = -remove)
# go on with removed variable
} else {
dfBase <- dfBase[, -remove]
}
bestmodeldf <- dfBase
bestmodel <- glm(bestmodeldf[, 1] ~., data = subset(bestmodeldf, select = 2:ncol(bestmodeldf)), family = family)
summary(bestmodel)
print(summary(bestmodel))
output <- list(ModelData = bestmodeldf,
BestModel = bestmodel)
ouput$BestModel
output$BestModel
library(minmodelr)
MinMod
library(minmodelr)
data <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
?MinMod
numVar <- ncol(data)
data[, 3:numVar] <- lappy(data[, 3:numVar], factor)
data[, 3:numVar] <- lapply(data[, 3:numVar], factor)
class(data[, 3])
class(data[, 4])
class(data[, 2])
model <- MinMod(data)
library(minmodelr)
model <- MinMod(data)
View(data)
df <- data
test = "F"
family = gaussian
stopdeleting <- FALSE
dfBase <- df
indVar <- names(dfBase)[1]
if (test == "Chisq") {indat <- 5}
if (test == "F") {indat <- 6}
numVars <- ncol(dfBase)
# model1
model1 <- glm(indVar ~., data = subset(dfBase, select = 2:numVars), family = family)
?as.name
as.name("var")
?do.call
?eval
indVar <- as.name(names(dfBase)[1])
model1 <- glm(indVar ~., data = subset(dfBase, select = 2:numVars), family = family)
numVars <- ncol(dfBase)
model1 <- glm(indVar ~., data = subset(dfBase, select = 2:numVars), family = family)
str(indVat)
str(indVar)
library(minmodelr)
model <- MinMod(data)
t <- subset(data, select = 1)
str(t)
stopdeleting <- FALSE
dfBase <- df
indVar <- subset(dfBase, select = 1)
if (test == "Chisq") {indat <- 5}
if (test == "F") {indat <- 6}
## check case of just one independent variable and return glm if true
numVars <- ncol(dfBase)
# model1
model1 <- glm(indVar ~., data = subset(dfBase, select = 2:numVars), family = family)
model1 <- glm(y ~., data = dfBase, family = family)
indVar <- as.name(names(dfBase[1]))
model <- glm(indVar ~., data = subset(dfBase, select = 2), family = family)
View(dfBase)
model1 <- glm(indVar ~., data = dfBase, family = family)
family <- "gaussian"
model1 <- glm(indVar ~., data = dfBase, family = family)
View(dfBase)
model1 <- glm(day_falling ~., data = dfBase, family = family)
?get
indVar <- get(names(dfBase[1]))
View(dfBase)
indVar <- get(names(dfBase[1]))
indVar <- get(dfBase[1])
indVar <- get(dfBase)
indVar <- get(names(dfBase)[1])
indVar <- as.name(dfBase[1])
indVar <- as.name(names(dfBase)[1])
model <- glm(indVar ~., data = subset(dfBase, select = 2), family = family)
dfBase <- subset(df, select = 2:ncol(df))
indVar <- as.name(names(df)[1])
model1 <- glm(indVar ~., data = dfBase, family = family)
indVar <- 2
indVar <- subset(df, select = 1)
model1 <- glm(indVar ~., data = dfBase, family = family)
indVar <- as.vector(subset(df, select = 1))
model1 <- glm(indVar ~., data = dfBase, family = family)
str(indVar)
str(as.vector(indVar))
str(as.matrix(indVar))
indVar <- as.matrix(subset(df, select = 1))
model1 <- glm(indVar ~., data = dfBase, family = family)
model1
?assign
assign(names(df)[1], df[, 1])
indVar <- df[, 1]
str(indVar)
indVar <- df[, 1]
model1 <- glm(indVar ~., data = dfBase, family = family)
summary(model1)
names(depVar) <- names(dfBase)[1]
depVar <- df[, 1]
names(depVar) <- names(dfBase)[1]
model1 <- glm(indVar ~., data = dfBase, family = family)
summary(model1)
model1 <- glm(depVar ~., data = dfBase, family = family)
model1
library(minmodelr)
data <- read.table("C:/Users/Martin/Studium/Ophionotus/files/joedata.csv", header = TRUE)
model <- MinMod(data)
data <- read.table("C:/Users/Martin/Studium/Ophionotus/files/joedata.csv", header = TRUE)
View(data)
data <- read.csv("C:/Users/Martin/Studium/Ophionotus/files/joedata.csv", header = TRUE)
model <- MinMod(data)
View(data)
library(xlsx)
write.xlsx(data,"data01.xlsx")
data <- read.csv("C:/Users/Martin/Studium/Ophionotus/files/joedata.csv", header = TRUE)
write.xlsx(data,"datafac.xlsx")
View(data)
data <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
View(data)
write.xlsx(data,"datafac.xlsx")
databin <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
datafac <- read.csv("C:/Users/Martin/Studium/Ophionotus/files/joedata.csv", header = TRUE)
View(data)
library(vegan)
library(MASS)
View(databin)
View(datafac)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
databin <- read.csv("C:/Users/Martin/Studium/Ophionotus/files/joedata.csv", header = TRUE)
## num vars
View(databin)
datafacgen <- subset(datafac, select = 3:ncol(datafac))
View(datafacgen)
gendist <- vegdist(datafacgen)
View(datafacgen)
gendist.mds <- isoMDS(gendist)
stressplot(gendist.mds,gendist)
ordiplot(gendist.mds)
gen.mds <- metaMDS(datafacgen)
gen.mds
plot(gen.mds,type = "t")
fit <- factanal(datafacgen, 3, rotation = "promax")
print(fit, digits = 1, cutoff = .5, sort = TRUE)
fit <- factanal(datafacgen, 4, rotation = "promax")
print(fit, digits = 1, cutoff = .5, sort = TRUE)
load <- fit$loadings[, 1:2]
plot(load, type = "n")
text(load,labels=names(datafacgen),cex=.7)
View(datafac)
View(datafacgen)
cor(datafacgen)
genmat <- as.matrix(cor(datafacgen))
View(genmat)
View(data)
data[, 3:numVar] <- lapply(data[, 3:numVar], factor)
model <- MinMod(data)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
model <- MinMod(data)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
model <- MinMod(datafac)
View(datafac)
?read.table
View(datafac)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("int",2),rep("factor",98), header = TRUE)
)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("int",2),rep("factor",97), header = TRUE)
)
View(datafac)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("num",2),rep("factor",98), header = TRUE))
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("num",2),rep("factor",97), header = TRUE))
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep(num,2),rep("factor",97), header = TRUE))
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("num",2),rep("factor",97)), header = TRUE))
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("num",2),rep("factor",98)), header = TRUE))
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("num",2),rep("factor",98)), header = TRUE)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", header = TRUE)
str(datafac[, 1])
str(datafac[, 2])
str(datafac[, 3])
str(datafac[, 4])
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c("char",rep("num",2),rep("factor",98)), header = TRUE)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c("char",rep("num",2),rep("factor",97)), header = TRUE)
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c("character",rep("numeric",2),rep("factor",97)), header = TRUE)
View(datafac)
View(datafac)
str(datafac[, 1])
str(datafac[, 2])
str(datafac[, 3])
str(datafac[, 4])
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("numeric",2),rep("factor",97)), header = TRUE, row.names = NULL)
str(datafac[, 1])
str(datafac[, 2])
str(datafac[, 3])
datafac <- read.table("C:/Users/Martin/Studium/Ophionotus/files/Ophionotus_GLM_4.txt", colClasses = c(rep("numeric",2),rep("factor",98)), header = TRUE, row.names = NULL)
datafac[, 100]
str(datafac[, 100])
model <- MinMod(datafac)
model[[1]]
model[[2]]
model[[1]]
testmodel <- glm(day_falling ~. , data = datafac[, 2:numVar])
testmodel
summary(datafac)
summary(testmodel)
View(datafac)
View(datafac)
